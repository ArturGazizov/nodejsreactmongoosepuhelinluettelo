{"version":3,"sources":["components/Numerot.js","components/Forms.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Numerot","persons","functions","map","it","key","id","name","number","onClick","Forms","addName","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","value","onChange","type","Notification","message","endsWith","className","length","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","props","removeName","personService","window","confirm","response1","setState","event","preventDefault","nameObject","state","Math","random","find","nmessage","setTimeout","updatedobject","response2","status","response3","catch","error","concat","console","log","target","bind","this","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.42f27901.chunk.js","sourcesContent":["import React from 'react'\n\n//import personService from '../services/persons'\n\nconst Numerot = ({persons,functions}) => \n{\n\n\n//onClick=personService.remove(id)\n\n  return (\n    <div>\n\n\n<h2>Numerot</h2>\n        <ul>\n        {persons.map(it=><li key={it.id}>{it.name}&nbsp;{it.number}<button onClick={functions(it.id)}> poista </button></li>)}\n        </ul>\n\n      \n      \n    </div>\n  )\n}\n\n\nexport default Numerot","import React from 'react'\n\n\nconst Forms = ({addName,handleNameChange,handleNumberChange,newName,newNumber}) => \n(\n  <form onSubmit={addName}>\n          <div>\n            nimi: <input value={newName}\n            onChange={handleNameChange}/>\n            numero: <input value={newNumber}\n            onChange={handleNumberChange}/>\n          </div>\n          <div>\n            <button type=\"submit\">lisää</button>\n          </div>\n        </form>\n)\n\n\nexport default Forms","import React, {useEffect } from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n\nif (message.endsWith('ed'))\n  return (\n    <div className=\"success\">\n      {message+' on server'}\n    </div>\n  )\n\nif (message.length)\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n\nreturn null\n\n}\n\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'//\nconst baseUrl1 = '/info'\n\n/*\nbefore building and deploying to heroku\n*/\n\n//const baseUrl = 'http://localhost:3001/api/persons'\n//const baseUrl1 = 'http://localhost:3001/info'\n//for running on home server with concurrently subdependency\n\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n\n\n\n  \n  return request.then(response => {\n    return response.data})\n  return axios.get(baseUrl)\n}\n\n\nconst getInfo = () => {\n  const request = axios.get(baseUrl1)\n return request.then(response => {\n    return response.data})\n}\n\n\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\n\nconst remove = (id) => {\n\n\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst get = (id) => {\n  return axios.get(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, remove ,get,getInfo}\n","import React from 'react';\nimport Numerot from './components/Numerot'\nimport Forms from './components/Forms'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons'\nimport './index.css'\n/*\n\"_comment\": \"axios.get('http://localhost:3001/person')  \nnpm install json-server --save \n\\\"server\\\": \\\"json-server -p3001 db.json\\\" \nnpm run server\",\n*/\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [\n        { name: 'Arto Hellas' }\n      ],\n      newName: '',\n      newNumber: '',\n      nmessage:''\n    }\n\nthis.addName = this.addName.bind(this)\nthis.handleNumberChange = this.handleNumberChange.bind(this)\nthis.handleNameChange = this.handleNameChange.bind(this)\nthis.removeName = this.removeName.bind(this)\n\n//this.toggleImportanceOf=this.toggleImportanceOf.bind(this)\n\n \n  }\n\n/*\ntoggleImportanceOf = (id) => {\n  return () => {\n    console.log('importance of '+id+' needs to be toggled')\n  }\n}\n*/\n\ncomponentDidMount() {\n\n\n  personService\n    .getAll()\n    .then(response => {\n      this.setState({persons: response})\n    })\n}\n\nremoveName =(id)=>{\n\nreturn ()=>{\n\npersonService.get(id).then\n( response=>\n  {\n\n    if (window.confirm(`Poistetaanko ${response.data[0].name} ?`))\n\npersonService.remove(id).then(()=>{\npersonService\n    .getAll()\n    .then(response1 => {\nthis.setState({persons: response1})\n    })}\n)\n}\n)\n\n\n}\n}\n\n\n  addName = (event) => {\n  event.preventDefault()\n  const nameObject = {\n    name: this.state.newName,\n    number: this.state.newNumber,\n    //date: new Date().toISOString(),\n    //important: Math.random() > 0.5,\n    id: Math.random()*1000000\n  }\n\n\n \n  personService\n    .getAll()\n    .then(response1 => {\n    if(response1.find(it=>it.name===this.state.newName))\n      {\n\nthis.setState({nmessage: ` '${this.state.newName}' name must be unique, so it was updated`})\nsetTimeout(() => {this.setState({nmessage: ''})}, 5000)\n\nlet updatedobject=response1.find(it=>it.name===this.state.newName)\nupdatedobject.name=nameObject.name\nupdatedobject.number=nameObject.number\n\n\npersonService.update(updatedobject.id,{'name':nameObject.name,'number':nameObject.number}).then(response2 =>{\n\n\nif(response2.status!==204&&response2.status!==\"204\"&&response2.status!==\"400\"&&response2.status!==\"404\"&&response2.status!==400&&response2.status!==404)\npersonService\n    .getAll().then(response3=>{\n      this.setState({\n        persons: response3,\n        newName: '',\n        newNumber: '',\n      })\n    })\n        else\n      {}\n/*\n*/\n\n}).catch((error)=>{this.setState({nmessage: `Too short number or name could not be added`})\n      setTimeout(() => {this.setState({nmessage: ''})}, 5000)})\n\n\nreturn\n      }\n      \n        if(this.state.newNumber.length===0)\n      {\nthis.setState({nmessage: `For '${this.state.newName}' number not specified `})\nsetTimeout(() => {this.setState({nmessage: ''})}, 5000)\nreturn\n      }\n\n\n\n   //axios.post('http://localhost:3001/notes', nameObject)\n   personService.create(nameObject)\n    //.then(response => {\n    //  console.log(response)\n    //})\n    .then(response => {\n      if(response.status!==204&&response.status!==\"204\"&&response.status!==\"400\"&&response.status!==\"404\"&&response.status!==400&&response.status!==404)\n      {this.setState({\n        persons: this.state.persons.concat(response.data),\n        newName: '',\n        newNumber: '',\n      })\n}\n    else\n      {\n        }\n    }).catch((error)=>{console.log(\"error\")\n//error.message just says that 499 error got, bad request\n      this.setState({nmessage: error.response.data.error})\n      setTimeout(() => {this.setState({nmessage: ''})}, 5000)})\n\n\n  })\n\n\n}\n\nhandleNameChange = (event) => {\n    //console.log(event.target.value)\n    this.setState({ newName: event.target.value })\n  }\n\nhandleNumberChange = (event) => {\n    //console.log(event.target.value)\n    this.setState({ newNumber: event.target.value })\n  }\n\n\n\n  render() {\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <Notification message={this.state.nmessage}/>\n\n\n\n        <Forms addName={this.addName} handleNameChange={this.handleNameChange}\n        handleNumberChange={this.handleNumberChange} newName={this.state.newName} \n        newNumber={this.state.newNumber} />\n\n\n\n\n        <Numerot persons={this.state.persons} functions={this.removeName}/>\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}